<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QR1 Multi-language (Inline)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 2rem; background: #fff; color: #000; max-width: 480px; margin: auto; }
    h1 { font-size: 1.4rem; margin-top: 1rem; text-align: center; }
    .subtitle { text-align: center; font-size: 0.9rem; color: #555; margin-bottom: 2rem; }
    .section { margin-top: 1.5rem; border-top: 1px solid #ddd; padding-top: 1rem; }
    .section h2 { font-size: 0.95rem; margin-bottom: 0.5rem; }
    .footer { margin-top: 2rem; font-size: 0.9rem; text-align: center; }
    .language-selector { position: absolute; top: 1rem; right: 1rem; }
    select { padding: 0.3rem; font-size: 0.9rem; }
  </style>
</head>
<body>
  <div class="language-selector">
    <label for="lang">üåê</label>
    <select id="lang"></select>
  </div>

  <h1 id="title">DIGITAL PRODUCT LABEL</h1>
  <div class="subtitle" id="subtitle">Information provided via a QR code on the beverage packaging</div>

  <div class="section">
    <h2 id="ingredientsTitle">INGREDIENTS</h2>
    <p id="ingredientes"></p>
  </div>
  <div class="section">
    <h2 id="nutritionTitle">NUTRITION INFORMATION</h2>
    <p id="nutricion"></p>
  </div>
  <div class="section">
    <h2 id="allergensTitle">ALLERGENS</h2>
    <p id="alergenos"></p>
  </div>
  <div class="section">
    <h2 id="alcoholTitle">ALCOHOL CONTENT & VOLUME</h2>
    <p id="alcoholData"></p>
  </div>

  <div class="footer">
    <p id="footerMore">Want to learn more about this wine?</p>
    <a id="qr2link" href="https://sommelierlab.com/">View profile ‚Üí</a>
  </div>

  <script>
    const LABELS = {"bg": {"title": "–î–ò–ì–ò–¢–ê–õ–ï–ù –ï–¢–ò–ö–ï–¢ –ù–ê –ü–†–û–î–£–ö–¢–ê", "subtitle": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∞ —á—Ä–µ–∑ QR –∫–æ–¥ –Ω–∞ –æ–ø–∞–∫–æ–≤–∫–∞—Ç–∞ –Ω–∞ –Ω–∞–ø–∏—Ç–∫–∞—Ç–∞", "ingredients": "–°–™–°–¢–ê–í–ö–ò", "nutrition": "–•–†–ê–ù–ò–¢–ï–õ–ù–ê –ò–ù–§–û–†–ú–ê–¶–ò–Ø", "allergens": "–ê–õ–ï–†–ì–ï–ù–ò", "alcohol": "–ê–õ–ö–û–•–û–õ–ù–û –°–™–î–™–†–ñ–ê–ù–ò–ï –ò –û–ë–ï–ú", "more": "–ò—Å–∫–∞—Ç–µ –ª–∏ –¥–∞ –Ω–∞—É—á–∏—Ç–µ –ø–æ–≤–µ—á–µ –∑–∞ —Ç–æ–≤–∞ –≤–∏–Ω–æ?", "view": "–í–∏–∂—Ç–µ –ø—Ä–æ—Ñ–∏–ª–∞ ‚Üí"}, "cs": {"title": "DIGIT√ÅLN√ç ≈†T√çTEK PRODUKTU", "subtitle": "Informace poskytovan√© prost≈ôednictv√≠m QR k√≥du na obalu n√°poje", "ingredients": "SLO≈ΩEN√ç", "nutrition": "V√ù≈ΩIVOV√â √öDAJE", "allergens": "ALERGENY", "alcohol": "OBSAH ALKOHOLU A OBJEM", "more": "Chcete se o tomto v√≠nƒõ dozvƒõdƒõt v√≠ce?", "view": "Zobrazit profil ‚Üí"}, "da": {"title": "DIGITAL PRODUKTETIKET", "subtitle": "Oplysninger leveret via en QR‚Äëkode p√• drikkevarens emballage", "ingredients": "INGREDIENSER", "nutrition": "ERN√ÜRINGSOPLYSNINGER", "allergens": "ALLERGENER", "alcohol": "ALKOHOLINDHOLD OG VOLUMEN", "more": "Vil du vide mere om denne vin?", "view": "Se profil ‚Üí"}, "de": {"title": "DIGITALES PRODUKTETIKETT", "subtitle": "Informationen √ºber einen QR‚ÄëCode auf der Getr√§nkeverpackung", "ingredients": "ZUTATEN", "nutrition": "N√ÑHRWERTINFORMATIONEN", "allergens": "ALLERGENE", "alcohol": "ALKOHOLGEHALT UND VOLUMEN", "more": "M√∂chten Sie mehr √ºber diesen Wein erfahren?", "view": "Profil ansehen ‚Üí"}, "et": {"title": "DIGITAALNE TOOTESILT", "subtitle": "Teave esitatakse joogipakendil oleva QR‚Äëkoodi kaudu", "ingredients": "KOOSTIS", "nutrition": "TOITUMISALANE TEAVE", "allergens": "ALLERGEENID", "alcohol": "ALKOHOLISISALDUS JA MAHT", "more": "Soovid selle veini kohta rohkem teada?", "view": "Vaata profiili ‚Üí"}, "el": {"title": "Œ®ŒóŒ¶ŒôŒëŒöŒó ŒïŒ§ŒôŒöŒïŒ§Œë Œ†Œ°ŒüŒ™ŒüŒùŒ§ŒüŒ£", "subtitle": "Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ ŒºŒ≠œÉœâ Œ∫œâŒ¥ŒπŒ∫Œøœç QR œÉœÑŒ∑ œÉœÖœÉŒ∫ŒµœÖŒ±œÉŒØŒ± œÑŒøœÖ œÄŒøœÑŒøœç", "ingredients": "Œ£Œ•Œ£Œ§ŒëŒ§ŒôŒöŒë", "nutrition": "ŒîŒôŒëŒ§Œ°ŒüŒ¶ŒôŒöŒïŒ£ Œ†ŒõŒóŒ°ŒüŒ¶ŒüŒ°ŒôŒïŒ£", "allergens": "ŒëŒõŒõŒïŒ°ŒìŒôŒüŒìŒüŒùŒë", "alcohol": "Œ†ŒïŒ°ŒôŒïŒöŒ§ŒôŒöŒüŒ§ŒóŒ§Œë ŒëŒõŒöŒüŒüŒõ ŒöŒëŒô ŒüŒìŒöŒüŒ£", "more": "ŒòŒ≠ŒªŒµœÑŒµ ŒΩŒ± ŒºŒ¨Œ∏ŒµœÑŒµ œÄŒµœÅŒπœÉœÉœåœÑŒµœÅŒ± Œ≥ŒπŒ± Œ±œÖœÑœå œÑŒø Œ∫œÅŒ±œÉŒØ;", "view": "Œ†œÅŒøŒ≤ŒøŒªŒÆ œÄœÅŒøœÜŒØŒª ‚Üí"}, "en": {"title": "DIGITAL PRODUCT LABEL", "subtitle": "Information provided via a QR code on the beverage packaging", "ingredients": "INGREDIENTS", "nutrition": "NUTRITION INFORMATION", "allergens": "ALLERGENS", "alcohol": "ALCOHOL CONTENT & VOLUME", "more": "Want to learn more about this wine?", "view": "View profile ‚Üí"}, "es": {"title": "ETIQUETA DIGITAL DEL PRODUCTO", "subtitle": "Informaci√≥n proporcionada mediante un c√≥digo QR en el envase de la bebida", "ingredients": "INGREDIENTES", "nutrition": "INFORMACI√ìN NUTRICIONAL", "allergens": "AL√âRGENOS", "alcohol": "GRADUACI√ìN ALCOH√ìLICA Y VOLUMEN", "more": "¬øQuieres saber m√°s sobre este vino?", "view": "Ver perfil ‚Üí"}, "fr": {"title": "√âTIQUETTE NUM√âRIQUE DU PRODUIT", "subtitle": "Informations fournies via un code QR sur l‚Äôemballage de la boisson", "ingredients": "INGR√âDIENTS", "nutrition": "INFORMATIONS NUTRITIONNELLES", "allergens": "ALLERG√àNES", "alcohol": "TENEUR EN ALCOOL ET VOLUME", "more": "Vous souhaitez en savoir plus sur ce vin¬†?", "view": "Voir le profil ‚Üí"}, "ga": {"title": "LIP√âAD DIGITEACH T√ÅIRGE", "subtitle": "Eolas tr√≠ ch√≥d QR ar phac√°isti√∫ an d√≠", "ingredients": "COMH√ÅBHAR", "nutrition": "FAISN√âIS COTH√öLA", "allergens": "Aill√©irgin√≠", "alcohol": "√ÅBHAR ALCAIL AGUS TOIRT", "more": "Ar mhaith leat n√≠os m√≥ a fhoghlaim faoin bhf√≠on seo?", "view": "F√©ach ar an bpr√≥if√≠l ‚Üí"}, "hr": {"title": "DIGITALNA OZNAKA PROIZVODA", "subtitle": "Informacije putem QR koda na ambala≈æi piƒáa", "ingredients": "SASTOJCI", "nutrition": "HRANJIVE INFORMACIJE", "allergens": "ALERGENI", "alcohol": "SADR≈ΩAJ ALKOHOLA I VOLUMEN", "more": "≈Ωelite saznati vi≈°e o ovom vinu?", "view": "Pogledaj profil ‚Üí"}, "it": {"title": "ETICHETTA DIGITALE DEL PRODOTTO", "subtitle": "Informazioni fornite tramite un codice QR sulla confezione della bevanda", "ingredients": "INGREDIENTI", "nutrition": "INFORMAZIONI NUTRIZIONALI", "allergens": "ALLERGENI", "alcohol": "GRADO ALCOLICO E VOLUME", "more": "Vuoi saperne di pi√π su questo vino?", "view": "Vedi profilo ‚Üí"}, "lv": {"title": "DIGITƒÄLƒÄ PRODUKTA ETIƒ∂ETE", "subtitle": "InformƒÅcija, kas sniegta, izmantojot QR kodu uz dzƒìriena iepakojuma", "ingredients": "SASTƒÄVDAƒªAS", "nutrition": "UZTURVƒíRTƒ™BAS INFORMƒÄCIJA", "allergens": "ALERƒ¢IJU IZRAISƒ™TƒÄJI", "alcohol": "ALKOHOLA SATURS UN TILPUMS", "more": "Vai vƒìlaties uzzinƒÅt vairƒÅk par ≈°o vƒ´nu?", "view": "Skatƒ´t profilu ‚Üí"}, "lt": {"title": "SKAITMENINƒñ PRODUKTO ETIKETƒñ", "subtitle": "Informacija pateikiama naudojant QR kodƒÖ ant gƒórimo pakuotƒós", "ingredients": "SUDƒñTIS", "nutrition": "MAISTINƒñS VERTƒñS INFORMACIJA", "allergens": "ALERGENAI", "alcohol": "ALKOHOLIO KIEKIS IR T≈™RIS", "more": "Norite su≈æinoti daugiau apie ≈°ƒØ vynƒÖ?", "view": "Per≈æi≈´rƒóti profilƒØ ‚Üí"}, "hu": {"title": "DIGIT√ÅLIS TERM√âKC√çMKE", "subtitle": "Inform√°ci√≥k a QR‚Äëk√≥don kereszt√ºl az ital csomagol√°s√°n", "ingredients": "√ñSSZETEV≈êK", "nutrition": "T√ÅPANYAG-INFORM√ÅCI√ì", "allergens": "ALLERG√âNEK", "alcohol": "ALKOHOLTARTALOM √âS ≈∞RTARTALOM", "more": "Szeretne t√∂bbet megtudni err≈ël a borr√≥l?", "view": "Profil megtekint√©se ‚Üí"}, "mt": {"title": "ETIKETTA DIƒ†ITALI TAL-PRODOTT", "subtitle": "Informazzjoni pprovduta permezz ta‚Äô kodiƒãi QR fuq l-ippakkjar tax-xarba", "ingredients": "INGREDJENTI", "nutrition": "INFORMAZZJONI NUTRIZZJONALI", "allergens": "ALLERƒ†ENI", "alcohol": "KONTENUT TAL-ALKOL U VOLUM", "more": "Trid tkun taf aktar dwar dan l-inbid?", "view": "Ara l-profil ‚Üí"}, "nl": {"title": "DIGITAAL PRODUCTLABEL", "subtitle": "Informatie via een QR‚Äëcode op de drankverpakking", "ingredients": "INGREDI√ãNTEN", "nutrition": "VOEDINGSINFORMATIE", "allergens": "ALLERGENEN", "alcohol": "ALCOHOLPERCENTAGE EN VOLUME", "more": "Wil je meer weten over deze wijn?", "view": "Bekijk profiel ‚Üí"}, "pl": {"title": "CYFROWA ETYKIETA PRODUKTU", "subtitle": "Informacje udostƒôpnione za pomocƒÖ kodu QR na opakowaniu napoju", "ingredients": "SK≈ÅADNIKI", "nutrition": "INFORMACJE O WARTO≈öCI OD≈ªYWCZEJ", "allergens": "ALERGENY", "alcohol": "ZAWARTO≈öƒÜ ALKOHOLU I OBJƒòTO≈öƒÜ", "more": "Chcesz dowiedzieƒá siƒô wiƒôcej o tym winie?", "view": "Zobacz profil ‚Üí"}, "pt": {"title": "R√ìTULO DIGITAL DO PRODUTO", "subtitle": "Informa√ß√£o fornecida atrav√©s de um c√≥digo QR na embalagem da bebida", "ingredients": "INGREDIENTES", "nutrition": "INFORMA√á√ÉO NUTRICIONAL", "allergens": "ALERG√âNIOS", "alcohol": "TEOR ALCO√ìLICO E VOLUME", "more": "Quer saber mais sobre este vinho?", "view": "Ver perfil ‚Üí"}, "ro": {"title": "ETICHETƒÇ DIGITALƒÇ A PRODUSULUI", "subtitle": "Informa»õii furnizate printr-un cod QR de pe ambalajul bƒÉuturii", "ingredients": "INGREDIENTE", "nutrition": "INFORMA»öII NUTRI»öIONALE", "allergens": "ALERGENI", "alcohol": "CON»öINUT DE ALCOOL »òI VOLUM", "more": "Dori»õi sƒÉ afla»õi mai multe despre acest vin?", "view": "Vezi profilul ‚Üí"}, "sk": {"title": "DIGIT√ÅLNY ≈†T√çTOK PRODUKTU", "subtitle": "Inform√°cie poskytovan√© prostredn√≠ctvom QR k√≥du na obale n√°poja", "ingredients": "ZLO≈ΩENIE", "nutrition": "V√ù≈ΩIVOV√â INFORM√ÅCIE", "allergens": "ALERG√âNY", "alcohol": "OBSAH ALKOHOLU A OBJEM", "more": "Chcete sa dozvedie≈• viac o tomto v√≠ne?", "view": "Zobrazi≈• profil ‚Üí"}, "sl": {"title": "DIGITALNA OZNAKA IZDELKA", "subtitle": "Informacije, posredovane prek kode QR na embala≈æi pijaƒçe", "ingredients": "SESTAVINE", "nutrition": "HRANILNE INFORMACIJE", "allergens": "ALERGENI", "alcohol": "VSEBNOST ALKOHOLA IN PROSTORNINA", "more": "≈Ωelite izvedeti veƒç o tem vinu?", "view": "Ogled profila ‚Üí"}, "fi": {"title": "DIGITAALINEN TUOTEMERKINT√Ñ", "subtitle": "Tiedot saatavilla juomapakkauksen QR‚Äëkoodin kautta", "ingredients": "AINEKSET", "nutrition": "RAVINTOAINEET", "allergens": "ALLERGEENIT", "alcohol": "ALKOHOLIPITOISUUS JA TILAVUUS", "more": "Haluatko tiet√§√§ lis√§√§ t√§st√§ viinist√§?", "view": "N√§yt√§ profiili ‚Üí"}, "sv": {"title": "DIGITAL PRODUKTETIKETT", "subtitle": "Information tillhandah√•lls via en QR‚Äëkod p√• dryckens f√∂rpackning", "ingredients": "INGREDIENSER", "nutrition": "N√ÑRINGSINFORMATION", "allergens": "ALLERGENER", "alcohol": "ALKOHOLHALT OCH VOLYM", "more": "Vill du veta mer om det h√§r vinet?", "view": "Visa profil ‚Üí"}};
    const NATIVE = {bg:'–ë—ä–ª–≥–∞—Ä—Å–∫–∏', cs:'ƒåe≈°tina', da:'Dansk', de:'Deutsch', et:'Eesti', el:'ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨',
      en:'English', es:'Espa√±ol', fr:'Fran√ßais', ga:'Gaeilge', hr:'Hrvatski', it:'Italiano',
      lv:'Latvie≈°u', lt:'Lietuvi≈≥', hu:'Magyar', mt:'Malti', nl:'Nederlands', pl:'Polski',
      pt:'Portugu√™s', ro:'Rom√¢nƒÉ', sk:'Slovenƒçina', sl:'Sloven≈°ƒçina', fi:'Suomi', sv:'Svenska'};

    function getInitialLang() {
      const qs = new URLSearchParams(location.search);
      const fromUrl = (qs.get('idioma') || qs.get('lang') || '').slice(0,2).toLowerCase();
      const fromLS  = (localStorage.getItem('idiomaPreferido') || localStorage.getItem('qr1.lang') || '').slice(0,2).toLowerCase();
      const fromNav = (navigator.language || 'en').slice(0,2).toLowerCase();
      return [fromUrl, fromLS, fromNav, 'en'].find(l => l && LABELS[l]) || 'en';
    }

    function applyLang(lang) {
      const t = LABELS[lang] || LABELS.en;
      document.getElementById('title').textContent = t.title;
      document.getElementById('subtitle').textContent = t.subtitle;
      document.getElementById('ingredientsTitle').textContent = t.ingredients;
      document.getElementById('nutritionTitle').textContent = t.nutrition;
      document.getElementById('allergensTitle').textContent = t.allergens;
      document.getElementById('alcoholTitle').textContent = t.alcohol;
      document.getElementById('footerMore').textContent = t.more;
      document.getElementById('qr2link').textContent = t.view;

      // persist + sync URL + link
      localStorage.setItem('idiomaPreferido', lang);
      localStorage.setItem('qr1.lang', lang);
      const url = new URL(location.href); url.searchParams.set('lang', lang); url.searchParams.set('idioma', lang);
      history.replaceState({}, '', url.toString());
      const a = document.getElementById('qr2link'); if (a) { const u = new URL(a.href); u.searchParams.set('idioma', lang); u.searchParams.set('lang', lang); a.href = u.toString(); }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const sel = document.getElementById('lang');
      sel.innerHTML = Object.keys(LABELS).map(c => `<option value="${c}">${NATIVE[c]||c}</option>`).join('');
      const initial = getInitialLang();
      sel.value = initial;
      applyLang(initial);
      sel.addEventListener('change', () => applyLang(sel.value));
    });
  </script>
</body>
</html>
